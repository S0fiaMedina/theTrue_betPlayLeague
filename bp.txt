DROP DATABASE IF EXISTS liga_betplay;



CREATE TABLE IF NOT EXISTS team (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    playedGames INT DEFAULT 0,
    wonGames INT DEFAULT 0,
    lostGames INT DEFAULT 0,
    tiedGames INT DEFAULT 0,
    scoredGoals INT DEFAULT 0,
    goalsConceded INT DEFAULT 0,
    totalOfPoints INT DEFAULT 0
) ENGINE = INNODB;

CREATE TABLE IF NOT EXISTS position(
	id INT AUTO_INCREMENT PRIMARY KEY,
	name VARCHAR(70) NOT NULL
)ENGINE = INNODB;


CREATE TABLE IF NOT EXISTS player (
    id INT AUTO_INCREMENT PRIMARY KEY,
    team_id INT NOT NULL,
    squad_number INT NOT NULL,
    scored_goals INT DEFAULT 0,
    yellow_cards INT DEFAULT 0,
    red_cards INT DEFAULT 0,
    position_id INT NOT NULL,
    FOREIGN KEY (team_id) REFERENCES Team(id)
    FOREIGN KEY(position_id) REFERENCES position(id)
) ENGINE = INNODB;



CREATE TABLE IF NOT EXISTS match(
	id INT AUTO_INCREMENT PRIMARY KEY,
	match_date DATE NOT NULL
) ENGINE =  INNODB;


CREATE TABLE IF NOT EXISTS team_match(
	id_team INT NOT NULL PRIMARY KEY,
	id_match INT NOT NULL PRIMARY KEY,
	goals INT DEFAULT 0,
	isLocal BOOL NOT NULL,
	CONSTRAINT team_match_team FOREIGN KEY(id_team) REFERENCES team(id),
	CONSTRAINT team_match_match FOREIGN KEY(id_match) REFERENCES 
) ENGINE =  INNODB;


CREATE TABLE IF NOT EXISTS goal(
	id_player INT NOT NULL,
	id_match INT NOT NULL,
	minute INT NOT NULL,
	FOREIGN KEY(id_player) REFERENCES player(id),
	FOREIGN KEY(id_match) REFERENCES team(id)
) ENGINE = INNODB;



